!function(e){function t(l){if(o[l])return o[l].exports;var n=o[l]={exports:{},id:l,loaded:!1};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=o(5),a=l(n),i=o(1),r=(l(i),o(3)),u=l(r);a["default"](function(){var e=a["default"](".collection");e.data("is-owner")||new u["default"]({collectionId:e.data("id")}).prependTo(".collection-moderation"),a["default"](".collection-actions").addClass("visible")})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=window.mw.mobileFrontend,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=window.mw.msg,e.exports=t["default"]},function(e,t,o){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),a=l(n),i=o(2),r=l(i),u=o(4),s=l(u),c=a["default"].require("ext.gather.api/CollectionsApi"),d=a["default"].require("Button"),f=a["default"].require("Icon"),g=new c;t["default"]=d.extend({defaults:{tagName:"div",additionalClassNames:new f({name:"collection-flag",additionalClassNames:"mw-ui-quiet"}).getClassName(),title:r["default"]("gather-flag-collection-flag-label")},events:{click:"onCollectionFlagButtonClick"},postRender:function(){d.prototype.postRender.apply(this,arguments),this.$el.attr("title",this.options.title)},onCollectionFlagButtonClick:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.$el.hasClass("disabled")||(this.$el.addClass("disabled"),g.getCollection(this.options.collectionId).done(function(e){var o=new s["default"]({collection:e});o.show(),o.on("collection-flagged",function(){return t.$el.detach()}),o.on("hide",function(){return t.$el.removeClass("disabled")})}))}}),e.exports=t["default"]},function(e,t,o){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),a=l(n),i=o(2),r=l(i),u=o(6),s=l(u),c=a["default"].require("ext.gather.collection.confirm/ConfirmationOverlay"),d=a["default"].require("ext.gather.logging/SchemaGatherFlags"),f=a["default"].require("toast"),g=new d;t["default"]=c.extend({defaults:s["default"](c.prototype.defaults,{flagSuccessMsg:r["default"]("gather-flag-collection-success"),subheading:r["default"]("gather-flag-collection-heading"),confirmMessage:r["default"]("gather-flag-collection-confirm"),confirmButtonClass:"mw-ui-destructive",confirmButtonLabel:r["default"]("gather-flag-collection-flag-label")}),events:s["default"](c.prototype.events,{"click .confirm":"onFlagClick"}),onFlagClick:function(){var e=this;this.showSpinner(),this.$(".confirm, .cancel").prop("disabled",!0),g.log({collectionId:this.id}).always(function(){f.show(e.options.flagSuccessMsg,"toast"),e.emit("collection-flagged"),e.hide()})},onExit:function(){}}),e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=window.jQuery,e.exports=t["default"]},function(e,t){function o(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var l in o)o.hasOwnProperty(l)&&(e[l]=o[l])}return e}e.exports=o}]);