!function(e){function t(n){if(o[n])return o[n].exports;var l=o[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var l=o(3),i=n(l),a=o(1),r=n(a);i["default"](function(){var e=i["default"](".collection");e.data("is-owner")||new r["default"]({collectionId:e.data("id")}).prependTo(".collection-moderation"),i["default"](".collection-actions").addClass("visible")})},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(2),i=n(l),a=mw.mobileFrontend.require("ext.gather.api/CollectionsApi"),r=mw.mobileFrontend.require("Button"),s=mw.mobileFrontend.require("Icon"),c=new a;t["default"]=r.extend({defaults:{tagName:"div",additionalClassNames:new s({name:"collection-flag",additionalClassNames:"mw-ui-quiet"}).getClassName(),title:mw.msg("gather-flag-collection-flag-label")},events:{click:"onCollectionFlagButtonClick"},postRender:function(){r.prototype.postRender.apply(this,arguments),this.$el.attr("title",this.options.title)},onCollectionFlagButtonClick:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.$el.hasClass("disabled")||(this.$el.addClass("disabled"),c.getCollection(this.options.collectionId).done(function(e){var o=new i["default"]({collection:e});o.show(),o.on("collection-flagged",function(){return t.$el.detach()}),o.on("hide",function(){return t.$el.removeClass("disabled")})}))}}),e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(4),i=n(l),a=mw.mobileFrontend.require("ext.gather.collection.confirm/ConfirmationOverlay"),r=mw.mobileFrontend.require("ext.gather.logging/SchemaGatherFlags"),s=mw.mobileFrontend.require("toast"),c=new r;t["default"]=a.extend({defaults:i["default"](a.prototype.defaults,{flagSuccessMsg:mw.msg("gather-flag-collection-success"),subheading:mw.msg("gather-flag-collection-heading"),confirmMessage:mw.msg("gather-flag-collection-confirm"),confirmButtonClass:"mw-ui-destructive",confirmButtonLabel:mw.msg("gather-flag-collection-flag-label")}),events:i["default"](a.prototype.events,{"click .confirm":"onFlagClick"}),onFlagClick:function(){var e=this;this.showSpinner(),this.$(".confirm, .cancel").prop("disabled",!0),c.log({collectionId:this.id}).always(function(){s.show(e.options.flagSuccessMsg,"toast"),e.emit("collection-flagged"),e.hide()})},onExit:function(){}}),e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=window.jQuery,e.exports=t["default"]},function(e,t){function o(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}e.exports=o}]);